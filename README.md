# FastAPI Task Manager

A simple task management API built with FastAPI, featuring CRUD operations for managing tasks. Easily deployable with `Docker` and `just`.

## ✨ Features
- **RESTful API**: A full set of CRUD operations for managing tasks.

- **High Performance**: Powered by FastAPI, Gunicorn, and the asynchronous SQLAlchemy driver (asyncpg).

- **Containerization**: The project is fully containerized with Docker and Docker Compose, ensuring easy deployment in any environment.

- **Migration Separation**: Database migrations are handled as a separate step, preventing "race condition" errors when multiple workers start simultaneously.

- **Simple Command Management**: The integration of Just simplifies running routine commands (e.g., starting the app or cleaning up data).


## 🛠️ Technologies 
- **Framework**: FastAPI

- **ORM**: SQLAlchemy

- **Database**: PostgreSQL

- **Runner**: Gunicorn & Uvicorn

- **Containerization**: Docker, Docker Compose

- **Command Runner**: Just


## 🚀 Installation & Usage 
### Requirements
- **Docker**

- **Docker Compose**

- **Just** (recommended)
  

### Setup


1. Clone the repository:
   ```bash
   git clone https://github.com/Chiffilin/fastapi-task-manager.git
   cd fastapi-task-manager
   '''
2. Create a `.env` file and provide your database credentials::
   ```bash
    touch .env
   ```

## ▶️ Running the Project

1. Run the project with Just:
  ```bash
    just app-i-docker-i-run
  ```
Or, if Just is not installed:
 ```bash
  docker compose up --build
 ```
Once the containers are running, you can access the API at `http://localhost:8000`.

## 🌳 Branches
The project maintains two primary branches, each optimized for a specific use case:

`master`

This branch represents a simplified version of the application, optimized for rapid local development and testing. 
It utilizes Uvicorn as the web server, which provides a single-process configuration that is straightforward to debug and modify.

`async_version`

This branch is a production-grade configuration designed for high-load environments. 
It employs Gunicorn as a process manager to run multiple asynchronous Uvicorn workers. 
This multi-worker approach allows the application to handle a high volume of concurrent requests efficiently, making it ideal for deployment.


## API Documentation 📄
API documentation is automatically generated by FastAPI and can be found at the following URLs:
  - Swagger UI: 👉 http://localhost:8000/docs
  - ReDoc: 👉 http://localhost:8000/redoc

## 📂 Project Structure
  ```bash
task_manager_api/
│── .venv/                    # Virtual environment for Python
│
│── app/                      # Main application folder
│   ├── crud/                 # CRUD operations for database interaction
│   │   └── tasks.py
│   │
│   ├── db/                   # Database connection and configuration
│   │   └── database.py
│   │
│   ├── models/               # SQLAlchemy models
│   │   ├── __init__.py
│   │   └── task_model.py
│   │
│   ├── routers/              # API routes (endpoints)
│   │   └── tasks.py
│   │
│   ├── schemas/              # Pydantic schemas for data validation and serialization
│   │   └── taskbase.py
│   │
│   ├── __init__.py           # Initializes the 'app' module
│   └── main.py               # FastAPI application entry point
│
│── just/                     # Justfile commands for project management
│
│── .env                      # Environment variables (credentials, settings, etc.)
│── .gitignore                # Files and folders to ignore in Git
│── .pre-commit-config.yaml   # Configuration for pre-commit hooks
│── .python-version           # Specifies the Python version to use
│── docker-compose.yml        # Docker Compose configuration for multi-container apps
│── Dockerfile                # Docker configuration file for building the image
│── Dockerfile.dockerignore   # Files and folders to ignore in Docker build context
│── justfile                  # Just commands
│── pyproject.toml            # Project configuration and metadata (if using uv/Poetry)
│── README.md                 # Project documentation
│── requirements.txt          # Project dependencies
│── test_main.http            # HTTP request file for API testing (e.g., in VS Code)
│── uv.lock                   # Lock file for uv package manager
```
## 📜 License
  - MIT License
